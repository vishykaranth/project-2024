# Infrastructure Security - Complete Diagrams Guide (Part 1: Network Security)

## ğŸ”’ Network Security: Firewalls, VPNs, Network Segmentation

---

## 1. Firewall Architecture

### Basic Firewall Concept
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Firewall as a Security Barrier                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Internet (Untrusted)
    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â”‚              â”‚
    â””â”€â–ºâ”‚   FIREWALL   â”‚â—„â”€â”€â”€ Rules Engine
       â”‚              â”‚     - Allow/Deny
       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     - Stateful Inspection
       â”‚  â”‚ Rules  â”‚  â”‚     - Deep Packet Inspection
       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    Internal Network (Trusted)
    
Firewall Functions:
- Packet Filtering
- Stateful Inspection
- Application Layer Filtering
- Intrusion Detection/Prevention
```

### Stateful Firewall
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Stateful Firewall Operation                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Outbound Connection:
    Client â”€â”€â–º SYN â”€â”€â–º Firewall â”€â”€â–º Server
    â”‚                    â”‚
    â”‚                    â”‚ State Table Entry:
    â”‚                    â”‚ - Source IP: Client
    â”‚                    â”‚ - Dest IP: Server
    â”‚                    â”‚ - Port: 443
    â”‚                    â”‚ - State: ESTABLISHED
    â”‚                    â”‚
    â—„â”€â”€â”€ SYN-ACK â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€â”€â”€ ACK â”€â”€â–º Firewall â”€â”€â–º Server
    
Inbound Response (Allowed):
    Server â”€â”€â–º Response â”€â”€â–º Firewall â”€â”€â–º Client
    â”‚                        â”‚
    â”‚                        â”‚ Check State Table
    â”‚                        â”‚ âœ“ Connection exists
    â”‚                        â”‚ âœ“ Allow packet
    â”‚                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
Key Advantage:
- Tracks connection state
- Only allows return traffic for established connections
- More secure than stateless filtering
```

### Firewall Types

#### Packet Filtering Firewall
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Packet Filtering Firewall                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Packet Arrives:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Source IP: 1.2.3.4  â”‚
    â”‚ Dest IP: 10.0.0.1    â”‚
    â”‚ Source Port: 54321   â”‚
    â”‚ Dest Port: 80         â”‚
    â”‚ Protocol: TCP         â”‚
    â”‚ Flags: SYN            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Rule Check   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚
    â–¼             â–¼
  ALLOW        DENY
    â”‚             â”‚
    â–¼             â–¼
  Forward      Drop
    
Rules Example:
- Allow: Source 192.168.1.0/24 â†’ Dest 10.0.0.0/8, Port 443
- Deny: All other traffic
```

#### Application Layer Firewall (WAF)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Web Application Firewall (WAF)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    HTTP Request
    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â”‚ Layer 7 Inspection   â”‚
    â”‚  â”‚                      â”‚
    â”‚  â”‚ - URL Analysis       â”‚
    â”‚  â”‚ - SQL Injection      â”‚
    â”‚  â”‚ - XSS Detection      â”‚
    â”‚  â”‚ - CSRF Protection    â”‚
    â”‚  â”‚ - Rate Limiting      â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚           â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚      â”‚         â”‚
    â”‚      â–¼         â–¼
    â”‚    ALLOW     BLOCK
    â”‚      â”‚         â”‚
    â”‚      â–¼         â–¼
    â””â”€â”€â–º Forward   Drop/Log
    
Protection Against:
- OWASP Top 10 vulnerabilities
- DDoS attacks
- Bot traffic
- Malicious payloads
```

---

## 2. VPN (Virtual Private Network)

### VPN Architecture
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VPN Tunnel Architecture                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Remote User
    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â”‚ VPN Client   â”‚
    â”‚  â”‚              â”‚
    â”‚  â”‚ - Encryption â”‚
    â”‚  â”‚ - Tunneling  â”‚
    â”‚  â”‚ - Auth       â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚
    â”‚         â”‚ Encrypted Tunnel
    â”‚         â”‚ (IPSec/SSL)
    â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Internet â”€â”€â”€â”€â–º VPN Gateway â”€â”€â”€â”€â–º Corporate Network
                              â”‚              â”‚
                              â”‚              â”‚ Decrypt
                              â”‚              â”‚ Authenticate
                              â”‚              â”‚ Route
                              â”‚              â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
VPN Types:
- Site-to-Site VPN
- Remote Access VPN
- Client-to-Site VPN
```

### VPN Tunneling Process
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VPN Tunneling Process                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Original Packet
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Source: 192.168.1.5 â”‚
    â”‚ Dest: 10.0.0.10      â”‚
    â”‚ Data: "Hello"         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 2: Encryption
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Encrypted Payload    â”‚
    â”‚ (AES-256)            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 3: VPN Header Added
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ VPN Header           â”‚
    â”‚ - Protocol: IPSec   â”‚
    â”‚ - SPI: 12345        â”‚
    â”‚ - Sequence: 1       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Encrypted Payload    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 4: Outer IP Header
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Source: User IP      â”‚
    â”‚ Dest: VPN Gateway    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ VPN Header           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Encrypted Payload    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
Encapsulation:
Original IP Packet â†’ Encrypted â†’ VPN Header â†’ New IP Header
```

### VPN Protocols Comparison
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VPN Protocol Comparison                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

IPSec VPN:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ IPSec Tunnel â”‚
    â”‚              â”‚
    â”‚ - IKEv2      â”‚
    â”‚ - ESP/AH     â”‚
    â”‚ - Strong Authâ”‚
    â”‚ - High Perf  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
SSL/TLS VPN:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ SSL Tunnel   â”‚
    â”‚              â”‚
    â”‚ - TLS 1.3    â”‚
    â”‚ - Browser    â”‚
    â”‚ - Easy Setup â”‚
    â”‚ - Port 443   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
WireGuard:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ WireGuard    â”‚
    â”‚              â”‚
    â”‚ - Modern     â”‚
    â”‚ - Fast       â”‚
    â”‚ - Simple     â”‚
    â”‚ - Secure     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Network Segmentation

### Network Segmentation Concept
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Network Segmentation Architecture               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Internet
    â”‚
    â””â”€â”€â”€â–º Perimeter Firewall
            â”‚
            â”œâ”€â”€â”€â–º DMZ (Demilitarized Zone)
            â”‚    â”‚
            â”‚    â”œâ”€â”€â”€ Web Servers (10.0.1.0/24)
            â”‚    â”œâ”€â”€â”€ Load Balancers (10.0.2.0/24)
            â”‚    â””â”€â”€â”€ Public APIs (10.0.3.0/24)
            â”‚
            â”œâ”€â”€â”€â–º Internal Firewall
            â”‚    â”‚
            â”‚    â”œâ”€â”€â”€ Application Tier
            â”‚    â”‚    â”œâ”€â”€â”€ App Servers (10.1.0.0/24)
            â”‚    â”‚    â””â”€â”€â”€ API Servers (10.1.1.0/24)
            â”‚    â”‚
            â”‚    â””â”€â”€â”€ Data Tier
            â”‚         â”œâ”€â”€â”€ Database (10.2.0.0/24)
            â”‚         â””â”€â”€â”€ Cache (10.2.1.0/24)
            â”‚
            â””â”€â”€â”€â–º Management Network
                 â”œâ”€â”€â”€ Admin Workstations (10.3.0.0/24)
                 â””â”€â”€â”€ Monitoring (10.3.1.0/24)
    
Segmentation Benefits:
- Limit lateral movement
- Contain breaches
- Compliance requirements
- Performance isolation
```

### Micro-Segmentation
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Micro-Segmentation                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Traditional Segmentation:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Application Zone â”‚
    â”‚  (All apps)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
Micro-Segmentation:
    â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”
    â”‚ App1 â”‚  â”‚ App2 â”‚  â”‚ App3 â”‚
    â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜
       â”‚         â”‚         â”‚
       â”‚         â”‚         â”‚
    â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”
    â”‚   Individual Policies   â”‚
    â”‚   Per Application       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
Key Features:
- Workload-level isolation
- Identity-based policies
- Dynamic policy enforcement
- Zero-trust model
```

### VLAN Segmentation
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VLAN-Based Segmentation                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Switch
    â”‚
    â”œâ”€â”€â”€ VLAN 10 (Sales)
    â”‚    â”‚
    â”‚    â”œâ”€â”€â”€ Sales PC 1
    â”‚    â”œâ”€â”€â”€ Sales PC 2
    â”‚    â””â”€â”€â”€ Sales Server
    â”‚
    â”œâ”€â”€â”€ VLAN 20 (Engineering)
    â”‚    â”‚
    â”‚    â”œâ”€â”€â”€ Dev Workstation 1
    â”‚    â”œâ”€â”€â”€ Dev Workstation 2
    â”‚    â””â”€â”€â”€ Dev Server
    â”‚
    â””â”€â”€â”€ VLAN 30 (Guest)
         â”‚
         â”œâ”€â”€â”€ Guest WiFi
         â””â”€â”€â”€ Guest Devices
    
Router/Firewall:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Inter-VLAN Routing    â”‚
    â”‚                      â”‚
    â”‚ VLAN 10 â†” VLAN 20    â”‚ (Restricted)
    â”‚ VLAN 10 â†” VLAN 30     â”‚ (Denied)
    â”‚ VLAN 20 â†” VLAN 30    â”‚ (Denied)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
Benefits:
- Logical separation
- Broadcast domain isolation
- Security boundaries
- Traffic control
```

---

## 4. Network Security Zones

### Security Zone Model
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Security Zone Architecture                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Zone 0: Internet (Untrusted)
    â”‚
    â”‚ Firewall Rules
    â”‚
    â–¼
Zone 1: DMZ (Semi-Trusted)
    â”‚
    â”‚ - Web Servers
    â”‚ - Public APIs
    â”‚ - Load Balancers
    â”‚
    â”‚ Firewall Rules
    â”‚
    â–¼
Zone 2: Internal Network (Trusted)
    â”‚
    â”‚ - Application Servers
    â”‚ - Internal Services
    â”‚
    â”‚ Firewall Rules
    â”‚
    â–¼
Zone 3: Restricted Network (Highly Trusted)
    â”‚
    â”‚ - Database Servers
    â”‚ - Critical Systems
    â”‚ - Management Systems
    â”‚
    
Traffic Flow Rules:
- Zone 0 â†’ Zone 1: Specific ports only
- Zone 1 â†’ Zone 2: Application traffic only
- Zone 2 â†’ Zone 3: Database queries only
- No direct Zone 0 â†’ Zone 2/3
```

---

## 5. Network Access Control (NAC)

### NAC Architecture
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Network Access Control                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Device Attempts Connection
    â”‚
    â”‚
    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Switch/AP    â”‚
    â”‚  (NAD)        â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Authentication Request
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  NAC Server  â”‚
    â”‚              â”‚
    â”‚ - Check      â”‚
    â”‚   Credentialsâ”‚
    â”‚ - Device     â”‚
    â”‚   Profiling  â”‚
    â”‚ - Policy     â”‚
    â”‚   Enforcementâ”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚
    â–¼             â–¼
  ALLOW        DENY
    â”‚             â”‚
    â”‚             â””â”€â”€â”€â–º Quarantine VLAN
    â”‚
    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Policy      â”‚
    â”‚  Assignment  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Network      â”‚
    â”‚  Access       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
NAC Functions:
- Pre-admission checks
- Post-admission monitoring
- Device compliance
- Guest access management
```

---

## Key Concepts Summary

### Firewall Types
```
Packet Filtering: Layer 3/4, fast, basic
Stateful: Tracks connections, more secure
Application Layer: Layer 7, deep inspection
Next-Gen: AI/ML, threat intelligence
```

### VPN Benefits
```
Encryption: Data in transit protection
Authentication: User/device verification
Tunneling: Secure communication channel
Remote Access: Secure connectivity
```

### Segmentation Benefits
```
Isolation: Limit breach impact
Compliance: Meet regulatory requirements
Performance: Network optimization
Security: Defense in depth
```

---

**Next: Part 2 will cover TLS/SSL: Certificate Management, mTLS, Certificate Pinning.**

